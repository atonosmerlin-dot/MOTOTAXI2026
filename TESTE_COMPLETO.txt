ğŸ“‹ TESTE COMPLETO - Passo a Passo

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PARTE 1: EXECUTE O SQL LIMPO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abra: https://supabase.com/dashboard
2. Projeto: MOTOTAXI (lmsoaxrlcjsubgozppen)
3. SQL Editor â†’ New Query
4. COPIE TUDO de: SQL_LIMPO.sql
5. Clique: Run (â–¶ï¸)
6. VocÃª deve ver: "SETUP COMPLETO âœ… | total_rejections: 0"

Se der erro de novo, tire print e mostre!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PARTE 2: LIMPAR AS CORRIDAS ANTIGAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Rode esse SQL para deletar corridas velhas:

DELETE FROM public.ride_requests 
WHERE status = 'pending' 
AND created_at < NOW() - INTERVAL '1 hour';

SELECT COUNT(*) as corridas_restantes FROM public.ride_requests WHERE status = 'pending';

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PARTE 3: TESTAR NO APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Reload: http://localhost:8080/driver
2. Wagner estÃ¡ ONLINE âœ…

3. TESTE A: Quando Wagner ACEITA
   - Clica "Aceitar Corrida" em uma chamada
   - Tela muda para "CORRIDA ATUAL"
   - â“ BOTÃ•ES "Rejeitar" e "Finalizar" APARECEM?
   
   Se NÃƒO aparecerem:
   â†’ Abra DevTools (F12)
   â†’ Console tab
   â†’ Copie qualquer erro vermelho
   â†’ Mostre pra mim

4. TESTE B: Quando Wagner REJEITA (depois de aceitar)
   - Wagner clica "Rejeitar"
   - Toast: "Corrida rejeitada"
   - Corrida SOME da tela dele
   - â“ FUNCIONOU?

5. TESTE C: Broadcast com 2 motoristas
   - Se tiver outro motorista online
   - Cliente cria corrida
   - Ambos veem
   - Um rejeita
   - Outro ainda vÃª
   - â“ FUNCIONOU?

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SE NÃƒO FUNCIONAR:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. F12 â†’ Console
2. Procure por erros vermelhos
3. Copie a mensagem exata
4. Mostre pra mim

Erros comuns:
- "RLS policy" â†’ O SQL nÃ£o executou correto
- "ride_rejections table not found" â†’ SQL falhou
- "driver_id is null" â†’ Driver nÃ£o foi carregado direito

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
